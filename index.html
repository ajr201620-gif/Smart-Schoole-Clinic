<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>SMART CLINIC OS v2026 | Ø§Ù„Ù…Ù†Ø¸ÙˆÙ…Ø© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Tajawal:wght@300;700;900&display=swap');
        :root { --neon-blue: #00f3ff; --safe-green: #10b981; --warn-yellow: #fbbf24; --danger-red: #ef4444; }
        body { background: #020617; color: white; font-family: 'Tajawal', sans-serif; overflow: hidden; height: 100vh; }
        .cyber-font { font-family: 'Orbitron', sans-serif; }
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.05); border-radius: 1.5rem; }
        .triage-card { transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        .pulse-ring { position: absolute; width: 100%; height: 100%; border: 2px solid var(--neon-blue); border-radius: 50%; animation: ring-pulse 2s infinite; }
        @keyframes ring-pulse { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }
    </style>
</head>
<body class="p-4 grid grid-cols-12 gap-4 h-screen">

    <aside class="col-span-3 flex flex-col gap-4">
        <div class="glass p-6 flex-1 flex flex-col items-center">
            <div class="w-24 h-24 bg-blue-600 rounded-2xl flex items-center justify-center mb-4 shadow-[0_0_30px_rgba(37,99,235,0.4)]">
                <span class="cyber-font text-3xl font-black">SC</span>
            </div>
            <h1 class="text-xl font-black text-center mb-1">Ø§Ù„Ø¹ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ©</h1>
            <p class="text-[10px] cyber-font opacity-40 mb-6 uppercase tracking-widest">Autonomous Health Grid</p>
            
            <nav class="w-full space-y-2">
                <div class="p-3 rounded-xl bg-blue-500/10 border-r-4 border-blue-500 text-sm font-bold">ÙˆØ­Ø¯Ø© Ø§Ù„ÙØ±Ø² (AI Triage)</div>
                <div onclick="window.open('admin-stats.html')" class="p-3 rounded-xl hover:bg-white/5 cursor-pointer text-sm opacity-60">Ù„ÙˆØ­Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Dashboards)</div>
                <div onclick="window.open('ar-vision.html')" class="p-3 rounded-xl hover:bg-white/5 cursor-pointer text-sm opacity-60">Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¬Ø²ÙŠØ¦ÙŠØ© (Digital Twin)</div>
            </nav>
        </div>

        <div class="glass p-4 h-64 overflow-hidden relative">
            <h3 class="text-[10px] cyber-font text-cyan-400 mb-3 tracking-widest">BLOCKCHAIN LEDGER (SECURE)</h3>
            <div id="ledger-stream" class="space-y-2 text-[9px] font-mono opacity-50">
                </div>
        </div>
    </aside>

    <main class="col-span-6 flex flex-col gap-4">
        <div class="glass flex-[2] p-8 relative overflow-hidden">
            <div class="flex justify-between items-start mb-8">
                <div>
                    <span class="text-[10px] bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full font-bold">Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø³Ø­ Ø§Ù„Ø­ÙŠÙˆÙŠ (IoT Hub)</span>
                    <h2 class="text-3xl font-black mt-2">ÙˆØ­Ø¯Ø© Ø§Ù„ÙØ­Øµ Ø§Ù„Ù„Ø­Ø¸ÙŠ</h2>
                </div>
                <div id="triage-status" class="px-6 py-2 rounded-lg border border-white/10 text-xs font-bold cyber-font">STATUS: IDLE</div>
            </div>

            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="glass p-4 border-r-4 border-red-500">
                    <div class="text-[10px] opacity-50 mb-1">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¨Ø¶ (BPM)</div>
                    <div id="val-bpm" class="text-4xl font-black cyber-font text-red-500">--</div>
                </div>
                <div class="glass p-4 border-r-4 border-orange-400">
                    <div class="text-[10px] opacity-50 mb-1">Ø§Ù„Ø­Ø±Ø§Ø±Ø© (TEMP)</div>
                    <div id="val-temp" class="text-4xl font-black cyber-font text-orange-400">--.-</div>
                </div>
                <div class="glass p-4 border-r-4 border-emerald-500">
                    <div class="text-[10px] opacity-50 mb-1">Ù†Ø³Ø¨Ø© Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ† (SPO2)</div>
                    <div id="val-oxy" class="text-4xl font-black cyber-font text-emerald-500">--%</div>
                </div>
                <div class="glass p-4 border-r-4 border-blue-500">
                    <div class="text-[10px] opacity-50 mb-1">Ø§Ù„Ø¶ØºØ· (BP)</div>
                    <div id="val-bp" class="text-4xl font-black cyber-font text-blue-500">120/80</div>
                </div>
            </div>

            <button onclick="startAIFiling()" class="w-full py-5 bg-gradient-to-r from-blue-600 to-cyan-500 rounded-2xl font-black text-lg shadow-xl hover:scale-[1.02] transition-transform">Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø³Ø­ ÙˆØ±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù†Ø¸Ø§Ù…</button>
        </div>

        <div id="ai-recommendation" class="glass flex-1 p-6 border-t-4 border-transparent transition-all duration-500">
            <h3 class="text-sm font-black mb-2 flex items-center gap-2">
                <i class="fas fa-brain"></i> Ù…Ø­Ø±Ùƒ Ø¯Ø¹Ù… Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ø·Ø¨ÙŠ (AI Engine)
            </h3>
            <p id="ai-text" class="text-sm opacity-60 italic">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø³Ø­ Ø§Ù„Ø­ÙŠÙˆÙŠ...</p>
        </div>
    </main>

    <aside class="col-span-3 flex flex-col gap-4">
        <div class="glass p-6 flex flex-col items-center justify-center">
            <div id="qrcode" class="p-2 bg-white rounded-xl mb-4"></div>
            <p class="text-[10px] font-bold opacity-40 cyber-font">DIGITAL HEALTH PASSPORT</p>
        </div>

        <div class="glass p-6 flex-1">
            <h3 class="text-sm font-black mb-6">Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±</h3>
            <div id="parent-notifs" class="space-y-4">
                <div class="text-[10px] opacity-30 text-center py-10">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ø±Ø³Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</div>
            </div>
        </div>
    </aside>

    <script>
        const bc = new BroadcastChannel('clinic_network');
        
        function startAIFiling() {
            let i = 0;
            const status = document.getElementById('triage-status');
            status.innerText = "SCANNING...";
            status.style.color = "#00f3ff";

            const timer = setInterval(() => {
                const bpm = Math.floor(70 + Math.random() * 55);
                const temp = (36.5 + Math.random() * 3).toFixed(1);
                
                document.getElementById('val-bpm').innerText = bpm;
                document.getElementById('val-temp').innerText = temp + "Â°";
                document.getElementById('val-oxy').innerText = Math.floor(94 + Math.random() * 6) + "%";

                if(i++ > 30) {
                    clearInterval(timer);
                    processAIDecision(bpm, temp);
                }
            }, 100);
        }

        function processAIDecision(bpm, temp) {
            const aiBox = document.getElementById('ai-recommendation');
            const aiText = document.getElementById('ai-text');
            const status = document.getElementById('triage-status');
            const notifBox = document.getElementById('parent-notifs');

            let category = "";
            let color = "";
            let msg = "";

            if (temp > 38.5 || bpm > 115) {
                category = "Ø­Ø§Ù„Ø© ØªØ³ØªØ¯Ø¹ÙŠ ØªØ¯Ø®Ù„Ø§Ù‹ ÙÙˆØ±ÙŠØ§Ù‹";
                color = "border-red-500";
                msg = "ØªÙ†Ø¨ÙŠÙ‡: ØªÙ… Ø±ØµØ¯ Ø¹Ù„Ø§Ù…Ø§Øª Ø­ÙŠÙˆÙŠØ© Ø­Ø±Ø¬Ø©. ÙŠÙˆØµÙ‰ Ø¨Ø§Ø³ØªØ´Ø§Ø±Ø© ÙÙˆØ±ÙŠØ© Ø¹Ù† Ø¨ÙØ¹Ø¯ ÙˆØ¥Ø¨Ù„Ø§Øº ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± Ø¨Ø¶Ø±ÙˆØ±Ø© Ø§Ù„Ø­Ø¶ÙˆØ±.";
                status.innerText = "TRIAGE: CRITICAL";
                status.style.color = "#ef4444";
                sendParentNotif("ğŸš¨ ØªÙ†Ø¨ÙŠÙ‡ Ø·ÙˆØ§Ø±Ø¦", "ØªÙ… Ø±ØµØ¯ Ø¹Ù„Ø§Ù…Ø§Øª ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠØ©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ù…Ø±Ø¦ÙŠØ©.");
            } else {
                category = "Ø­Ø§Ù„Ø© Ø¨Ø³ÙŠØ·Ø©";
                color = "border-emerald-500";
                msg = "Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø¶Ù…Ù† Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ. ÙŠÙˆØµÙ‰ Ø¨Ø§Ù„Ø±Ø§Ø­Ø© Ù„Ù…Ø¯Ø© 15 Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙØµÙ„.";
                status.innerText = "TRIAGE: NORMAL";
                status.style.color = "#10b981";
                sendParentNotif("âœ… Ø¥Ø´Ø¹Ø§Ø± Ø±ÙˆØªÙŠÙ†ÙŠ", "Ø§Ø¨Ù†ÙƒÙ… Ø²Ø§Ø± Ø§Ù„Ø¹ÙŠØ§Ø¯Ø© ÙˆØ­Ø§Ù„ØªÙ‡ Ù…Ø³ØªÙ‚Ø±Ø© ÙˆÙ„Ù„Ù‡ Ø§Ù„Ø­Ù…Ø¯.");
            }

            aiBox.className = `glass flex-1 p-6 border-t-4 transition-all duration-500 ${color}`;
            aiText.innerHTML = `<strong>Ø§Ù„ØªØµÙ†ÙŠÙ: ${category}</strong><br>${msg}`;
            
            // ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ø¨Ù„ÙˆÙƒ ØªØ´ÙŠÙ†
            addBlockchainBlock(`DEPOSITED: ${category} | TEMP: ${temp}`);
            
            // ØªØ²Ø§Ù…Ù† Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
            bc.postMessage({ type: 'SCAN_COMPLETE', data: { bpm: bpm, temp: temp, category: category } });
        }

        function sendParentNotif(title, text) {
            const box = document.getElementById('parent-notifs');
            if(box.innerText.includes("Ù„Ø§ ØªÙˆØ¬Ø¯")) box.innerHTML = "";
            const n = document.createElement('div');
            n.className = "p-3 bg-white/5 rounded-xl border-l-2 border-blue-500 animate-bounce";
            n.innerHTML = `<div class="text-[10px] font-black text-blue-400">${title}</div><div class="text-[9px] opacity-60">${text}</div>`;
            box.prepend(n);
        }

        function addBlockchainBlock(data) {
            const stream = document.getElementById('ledger-stream');
            const b = document.createElement('div');
            b.className = "p-2 bg-white/5 border-r-2 border-cyan-500";
            b.innerHTML = `TX: ${Math.random().toString(36).substr(2,8).toUpperCase()}<br>${data}`;
            stream.prepend(b);
        }

        new QRCode(document.getElementById("qrcode"), { text: "STUDENT_RECORD_2026", width: 120, height: 120, colorDark: "#020617" });
    </script>
</body>
</html>
