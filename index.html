<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SMART CLINIC OS v2026 โ ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ</title>
  <meta name="description" content="ููุตุฉ ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ โ ููุญุฉ ุชูููุฐูุฉุ ุชูุจููุงุชุ ุชูุงุฑูุฑุ ููุญุงูุงุฉ ุชุฏูู ุนูู ุงูุนูุงุฏุฉ." />
  <meta name="theme-color" content="#0b1220" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Top Bar -->
  <header class="topbar">
    <div class="brand">
      <div class="logo">SC</div>
      <div class="brand-text">
        <div class="brand-title">SMART CLINIC OS</div>
        <div class="brand-sub">ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ โ ููุญุฉ ุชูููุฐูุฉ ูุชุญููููุฉ</div>
      </div>
    </div>

    <div class="top-actions">
      <button class="btn ghost" id="btnTheme" title="ุงููุถุน ุงููููู/ุงูููุงุฑู">๐</button>
      <button class="btn ghost" id="btnFull" title="ููุก ุงูุดุงุดุฉ">โถ</button>
      <button class="btn" id="btnQuickDemo" title="ุชุดุบูู ุฏููู ุณุฑูุน">ุชุดุบูู ุงูุฏููู</button>
    </div>
  </header>

  <!-- Layout -->
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="nav-title">ุงููุงุฆูุฉ</div>
      <nav class="nav">
        <button class="nav-item active" data-view="dashboard">
          <span class="ico">๐</span>
          <span>Executive Dashboard</span>
        </button>
        <button class="nav-item" data-view="triage">
          <span class="ico">๐ฉบ</span>
          <span>Triage โ ูุญุต ุณุฑูุน</span>
        </button>
        <button class="nav-item" data-view="alerts">
          <span class="ico">๐จ</span>
          <span>Alerts โ ุงูุชูุจููุงุช</span>
        </button>
        <button class="nav-item" data-view="reports">
          <span class="ico">๐งพ</span>
          <span>Reports โ ุงูุชูุงุฑูุฑ</span>
        </button>
        <button class="nav-item" data-view="iot">
          <span class="ico">๐ก</span>
          <span>IoT Hub</span>
        </button>
        <button class="nav-item" data-view="about">
          <span class="ico">๐๏ธ</span>
          <span>ุนู ุงููุดุฑูุน</span>
        </button>
      </nav>

      <div class="sidebar-foot">
        <div class="pill">
          <span class="dot" id="sysDot"></span>
          <span id="sysStatus">System: Ready</span>
        </div>
        <div class="small muted">ูุณุฎุฉ ุนุฑุถ (Static) โ ุชุนูู ุนุจุฑ GitHub Pages</div>
      </div>
    </aside>

    <!-- Main -->
    <main class="main">
      <!-- HERO -->
      <section class="hero">
        <div class="hero-left">
          <div class="kicker">ูููุฐุฌ ูุทูู ูุงุจู ููุชูุณุน</div>
          <h1>ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ</h1>
          <p class="hero-desc">
            ููุญุฉ ุชูููุฐูุฉ โุชุญููููุฉโ ุชูุถุญ ุงูุฃุซุฑุ ุชุฏูู ุงูุนููุ ูุงูุชูุจููุงุช โ ูุชูุฏูู ูุดุฑูุน ููู ููุฌูุงุช ุงูุฑุณููุฉ.
          </p>
          <div class="hero-cta">
            <button class="btn" id="btnNewCase">ุฅูุดุงุก ุญุงูุฉ ูุญุต</button>
            <button class="btn ghost" id="btnExport">ุชุตุฏูุฑ ููุฎุต (TXT)</button>
          </div>
          <div class="hero-badges">
            <span class="badge">Early Detection</span>
            <span class="badge">ุฎูุถ ุงูุบูุงุจ</span>
            <span class="badge">ุชูุงุฑูุฑ ูุญุธูุฉ</span>
            <span class="badge">ูุงุจู ููุชูุงูู</span>
          </div>
        </div>

        <div class="hero-right">
          <div class="scorecard">
            <div class="scorecard-head">
              <div>
                <div class="score-title">ูุคุดุฑ ุงูุฌุงูุฒูุฉ</div>
                <div class="score-sub">ูุฑุงุกุฉ ูุญุธูุฉ ููุนุฑุถ</div>
              </div>
              <div class="ring" aria-label="Readiness score">
                <div class="ring-inner">
                  <div class="ring-num" id="readinessScore">86</div>
                  <div class="ring-lbl">/100</div>
                </div>
              </div>
            </div>

            <div class="scorecard-grid">
              <div class="mini">
                <div class="mini-k">ุญุงูุงุช ุงูููู</div>
                <div class="mini-v" id="kpiTodayCases">12</div>
              </div>
              <div class="mini">
                <div class="mini-k">ุชูุจููุงุช ุญุฑุฌุฉ</div>
                <div class="mini-v danger" id="kpiCritical">2</div>
              </div>
              <div class="mini">
                <div class="mini-k">ูุชุงุจุนุฉ ูุทููุจุฉ</div>
                <div class="mini-v warn" id="kpiFollow">5</div>
              </div>
              <div class="mini">
                <div class="mini-k">ุฒูู ุงูุงุณุชุฌุงุจุฉ</div>
                <div class="mini-v" id="kpiResponse">7m</div>
              </div>
            </div>

            <div class="scorecard-foot">
              <div class="small muted">* ุฃุฑูุงู ุชุฌุฑูุจูุฉ ููุนุฑุถ (Demo). ูููู ุฑุจุทูุง ูุงุญููุง ุจูุงุนุฏุฉ ุจูุงูุงุช/ูุงุฌูุงุช.</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Views -->
      <section class="views">
        <!-- DASHBOARD -->
        <div class="view show" id="view-dashboard">
          <div class="section-head">
            <h2>Executive Dashboard</h2>
            <div class="section-actions">
              <button class="btn ghost" id="btnRefresh">ุชุญุฏูุซ</button>
              <button class="btn ghost" id="btnSimAlert">ูุญุงูุงุฉ ุชูุจูู</button>
            </div>
          </div>

          <div class="grid-4">
            <div class="card kpi">
              <div class="kpi-top">
                <div class="kpi-ico">๐ฅ</div>
                <div class="kpi-meta">
                  <div class="kpi-label">ุนุฏุฏ ุงูุทูุงุจ (ุงููุฏุฑุณุฉ)</div>
                  <div class="kpi-value" id="kpiStudents">680</div>
                </div>
              </div>
              <div class="kpi-bar"><span style="width:72%"></span></div>
              <div class="kpi-note">ูุงุจู ููุชูุงูู ูุน ุฃูุธูุฉ ุงูุชุนููู ูุงุญููุง</div>
            </div>

            <div class="card kpi">
              <div class="kpi-top">
                <div class="kpi-ico">๐ฉบ</div>
                <div class="kpi-meta">
                  <div class="kpi-label">ูุญูุตุงุช ูุฐุง ุงูุฃุณุจูุน</div>
                  <div class="kpi-value" id="kpiWeekChecks">94</div>
                </div>
              </div>
              <div class="kpi-bar"><span style="width:58%"></span></div>
              <div class="kpi-note">ุงุณุชูุฏุงู ุงููุญุต ุงูุฏูุฑู + ุงูุดูุงูู</div>
            </div>

            <div class="card kpi">
              <div class="kpi-top">
                <div class="kpi-ico">๐ง</div>
                <div class="kpi-meta">
                  <div class="kpi-label">ูุฎุงุทุฑ ููุชุดูุฉ ูุจูุฑูุง</div>
                  <div class="kpi-value" id="kpiEarly">17</div>
                </div>
              </div>
              <div class="kpi-bar"><span style="width:44%"></span></div>
              <div class="kpi-note">ุชูููู ูุถุงุนูุงุช + ุชูููู ุงูุบูุงุจ</div>
            </div>

            <div class="card kpi">
              <div class="kpi-top">
                <div class="kpi-ico">๐งพ</div>
                <div class="kpi-meta">
                  <div class="kpi-label">ุชูุงุฑูุฑ ุฌุงูุฒุฉ</div>
                  <div class="kpi-value" id="kpiReports">36</div>
                </div>
              </div>
              <div class="kpi-bar"><span style="width:66%"></span></div>
              <div class="kpi-note">ุฌุงูุฒุฉ ููุทุจุงุนุฉ/ุงูุชุตุฏูุฑ</div>
            </div>
          </div>

          <div class="grid-2">
            <div class="card">
              <div class="card-head">
                <h3>Case Log โ ุณุฌู ุงูุญุงูุงุช</h3>
                <div class="muted small">ุขุฎุฑ 6 ุญุงูุงุช</div>
              </div>
              <div class="table">
                <div class="trow thead">
                  <div>ุงูููุช</div><div>ุงูุทุงูุจ</div><div>ุงูุณุจุจ</div><div>ุงูุฃููููุฉ</div><div>ุงูุญุงูุฉ</div>
                </div>
                <div id="caseRows"></div>
              </div>
            </div>

            <div class="card">
              <div class="card-head">
                <h3>Impact โ ุงูุฃุซุฑ</h3>
                <div class="muted small">ูุญุงูุงุฉ ุฃุซุฑ/ูููุฉ ููููุญููู</div>
              </div>

              <div class="impact">
                <div class="impact-item">
                  <div class="impact-k">ุฎูุถ ุงูุบูุงุจ ุงููุชููุน</div>
                  <div class="impact-v" id="impactAbsence">-12%</div>
                </div>
                <div class="impact-item">
                  <div class="impact-k">ุชูููู ุงูุฅุญุงูุงุช ุงููุชุฃุฎุฑุฉ</div>
                  <div class="impact-v" id="impactReferrals">-18%</div>
                </div>
                <div class="impact-item">
                  <div class="impact-k">ุฑูุน ุฌุงูุฒูุฉ ุงูุชูุงุฑูุฑ</div>
                  <div class="impact-v" id="impactReports">+40%</div>
                </div>
                <div class="impact-item">
                  <div class="impact-k">ุฑุถุง ุฃูููุงุก ุงูุฃููุฑ</div>
                  <div class="impact-v" id="impactParents">+22%</div>
                </div>
              </div>

              <div class="divider"></div>
              <div class="small muted">
                ูุฐู ุงููุคุดุฑุงุช ุชูุนุฑุถ ููููุฉ ูุดุฑูุน (Value Proposition) ููููู ุงุณุชุจุฏุงููุง ูุงุญููุง ุจุจูุงูุงุช ุญููููุฉ.
              </div>
            </div>
          </div>
        </div>

        <!-- TRIAGE -->
        <div class="view" id="view-triage">
          <div class="section-head">
            <h2>Triage โ ูุญุต ุณุฑูุน</h2>
            <div class="section-actions">
              <button class="btn ghost" id="btnRandomStudent">ุทุงูุจ ุนุดูุงุฆู</button>
              <button class="btn" id="btnSaveCase">ุญูุธ ุงูุญุงูุฉ</button>
            </div>
          </div>

          <div class="grid-2">
            <div class="card">
              <div class="card-head">
                <h3>ุจูุงูุงุช ุงูุทุงูุจ</h3>
                <div class="muted small">Demo โ ุจุฏูู ุจูุงูุงุช ุญุณุงุณุฉ</div>
              </div>

              <div class="form">
                <label>ุงุณู ุงูุทุงูุจ</label>
                <input id="fName" placeholder="ูุซุงู: ุทุงูุจ / ุทุงูุจุฉ" />

                <div class="row">
                  <div>
                    <label>ุงูุนูุฑ</label>
                    <input id="fAge" type="number" min="5" max="19" placeholder="12" />
                  </div>
                  <div>
                    <label>ุงูุตู</label>
                    <input id="fGrade" placeholder="ุณุงุฏุณ" />
                  </div>
                </div>

                <label>ุณุจุจ ุงูุฒูุงุฑุฉ</label>
                <select id="fReason">
                  <option>ุญููู / ุญุฑุงุฑุฉ</option>
                  <option>ุตุฏุงุน</option>
                  <option>ุฃูู ุจุทู</option>
                  <option>ุถูู ุชููุณ / ุฑุจู</option>
                  <option>ุฅุฌูุงุฏ / ุฏูุฎุฉ</option>
                  <option>ุฌุฑุญ ุจุณูุท</option>
                  <option>ุฃุฎุฑู</option>
                </select>

                <label>ููุงุญุธุงุช</label>
                <textarea id="fNotes" rows="4" placeholder="ุฃุฏุฎู ููุงุญุธุฉ ูุฎุชุตุฑุฉ..."></textarea>
              </div>
            </div>

            <div class="card">
              <div class="card-head">
                <h3>ูุฑุงุกุงุช ุณุฑูุนุฉ (Demo)</h3>
                <div class="muted small">ูููู ุฑุจุทูุง ูุงุญููุง ุจุฃุฌูุฒุฉ IoT</div>
              </div>

              <div class="vitals">
                <div class="vital">
                  <div class="v-k">Temperature</div>
                  <div class="v-v"><span id="vTemp">37.2</span>ยฐC</div>
                </div>
                <div class="vital">
                  <div class="v-k">Heart Rate</div>
                  <div class="v-v"><span id="vHr">88</span>bpm</div>
                </div>
                <div class="vital">
                  <div class="v-k">SpOโ</div>
                  <div class="v-v"><span id="vSpo2">98</span>%</div>
                </div>
                <div class="vital">
                  <div class="v-k">BP</div>
                  <div class="v-v"><span id="vBp">110/70</span></div>
                </div>
              </div>

              <div class="divider"></div>

              <div class="risk">
                <div class="risk-left">
                  <div class="risk-k">Risk Level</div>
                  <div class="risk-v" id="riskLevel">LOW</div>
                </div>
                <div class="risk-right">
                  <div class="riskbar"><span id="riskBar" style="width:18%"></span></div>
                  <div class="muted small" id="riskHint">ูุง ุชูุฌุฏ ูุคุดุฑุงุช ุญุฑุฌุฉ.</div>
                </div>
              </div>

              <div class="card-actions">
                <button class="btn ghost" id="btnRecalc">ุฅุนุงุฏุฉ ุญุณุงุจ ุงููุฎุงุทุฑ</button>
                <button class="btn" id="btnTriggerCritical">ูุญุงูุงุฉ ุญุงูุฉ ุญุฑุฌุฉ</button>
              </div>
            </div>
          </div>
        </div>

        <!-- ALERTS -->
        <div class="view" id="view-alerts">
          <div class="section-head">
            <h2>Alerts โ ุงูุชูุจููุงุช</h2>
            <div class="section-actions">
              <button class="btn ghost" id="btnClearAlerts">ูุณุญ ุงูุชูุจููุงุช</button>
            </div>
          </div>

          <div class="grid-2">
            <div class="card">
              <div class="card-head">
                <h3>ูุงุฆูุฉ ุงูุชูุจููุงุช</h3>
                <div class="muted small">ุชุธูุฑ ููุง ุงูุญุงูุงุช ุฐุงุช ุงูุฃููููุฉ</div>
              </div>

              <div class="alerts" id="alertsList"></div>
            </div>

            <div class="card">
              <div class="card-head">
                <h3>ุจุฑูุชูููู ุงูุงุณุชุฌุงุจุฉ</h3>
                <div class="muted small">ูููุฐุฌ ุฅุฌุฑุงุฆู ูุงุจู ููุชุฎุตูุต</div>
              </div>

              <ol class="protocol">
                <li>ุชูููู ุณุฑูุน (Airway/Breathing/Circulation) ุญุณุจ ุงูุญุงูุฉ.</li>
                <li>ููุงุณ ุงูุนูุงูุงุช ุงูุญูููุฉ ูุชูุซูููุง.</li>
                <li>ุชุตููู ุงูุฃููููุฉ (Low/Medium/High/Critical).</li>
                <li>ุฅุฌุฑุงุก ุงูุชุฏุฎู ุงูุฃููู ุฏุงุฎู ุงููุฏุฑุณุฉ.</li>
                <li>ุฅุจูุงุบ ููู ุงูุฃูุฑ ุนูุฏ ุงูุญุงุฌุฉ.</li>
                <li>ุฅุญุงูุฉ ููุฌูุฉ ุงูุตุญูุฉ ุนูุฏ ุงูุถุฑูุฑุฉ + ุชูุฑูุฑ ูุฎุชุตุฑ.</li>
              </ol>

              <div class="divider"></div>
              <div class="small muted">
                (ุนุฑุถ ุชุญูููู) โ ูุชู ุชุฎุตูุต ุงูุจุฑูุชูููู ุญุณุจ ุงูุณูุงุณุฉ ุงูุตุญูุฉ ุงููุนุชูุฏุฉ.
              </div>
            </div>
          </div>
        </div>

        <!-- REPORTS -->
        <div class="view" id="view-reports">
          <div class="section-head">
            <h2>Reports โ ุงูุชูุงุฑูุฑ</h2>
            <div class="section-actions">
              <button class="btn" id="btnMakeReport">ุฅูุดุงุก ุชูุฑูุฑ</button>
              <button class="btn ghost" id="btnDownloadReport">ุชุญููู TXT</button>
            </div>
          </div>

          <div class="grid-2">
            <div class="card">
              <div class="card-head">
                <h3>ูููุฐุฌ ุชูุฑูุฑ (PDF-look)</h3>
                <div class="muted small">ุนุฑุถ ุดููู ููุชูุฑูุฑ</div>
              </div>

              <div class="report" id="reportBox">
                <div class="report-title">ุชูุฑูุฑ ุฒูุงุฑุฉ โ ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ</div>
                <div class="report-meta" id="reportMeta">โ</div>
                <div class="divider"></div>
                <div class="report-body" id="reportBody">
                  <div class="muted">ุงุถุบุท "ุฅูุดุงุก ุชูุฑูุฑ" ูุชูููุฏ ุชูุฑูุฑ ุจูุงุกู ุนูู ุขุฎุฑ ุญุงูุฉ.</div>
                </div>
                <div class="divider"></div>
                <div class="report-foot muted small">
                  ูุฐุง ุชูุฑูุฑ ุชุฌุฑูุจู ููุนุฑุถ. (ูููู ุชุทููุฑู ุฅูู PDF ูุนูู ูุงุญููุง)
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-head">
                <h3>ููุฎุต ุชูููุฐู</h3>
                <div class="muted small">Key Points ูููุญููููู</div>
              </div>

              <ul class="bullets">
                <li><b>ูููุฉ ูุจุงุดุฑุฉ:</b> ุงูุชุดุงู ูุจูุฑ + ุฎูุถ ุงูุบูุงุจ + ุชูุงุฑูุฑ ูุญุธูุฉ.</li>
                <li><b>ูุงุจููุฉ ุชูุณุน:</b> ูู ูุฏุฑุณุฉ ูุงุญุฏุฉ ุฅูู ุขูุงู ุงููุฏุงุฑุณ.</li>
                <li><b>ุญูููุฉ ุงูุจูุงูุงุช:</b> ุชุตููู ูุฑุงุนู ุงูุฎุตูุตูุฉ (ุชุฌููุนู/ุฃุฏูุงุฑ/ููุงููุงุช).</li>
                <li><b>ุชูุงููุงุช ูุณุชูุจููุฉ:</b> ูููุฉ ุฑูููุฉ/ุฃูุธูุฉ ุชุนููู/ููุตุงุช ุตุญูุฉ.</li>
              </ul>

              <div class="divider"></div>
              <div class="small muted">
                ุฅุฐุง ุชุจุบูุ ุฃูุชุจ ูู โPolicy & Privacyโ ุตูุญุฉ ูุงููุฉ ุฏุงุฎู ุงููุดุฑูุน.
              </div>
            </div>
          </div>
        </div>

        <!-- IOT -->
        <div class="view" id="view-iot">
          <div class="section-head">
            <h2>IoT Hub</h2>
            <div class="section-actions">
              <button class="btn" id="btnSyncSensors">ูุฒุงููุฉ ุญุณุงุณุงุช</button>
              <button class="btn ghost" id="btnResetSensors">ุฅุนุงุฏุฉ ุถุจุท</button>
            </div>
          </div>

          <div class="grid-2">
            <div class="card">
              <div class="card-head">
                <h3>ุญุงูุฉ ุงูุฃุฌูุฒุฉ</h3>
                <div class="muted small">Demo โ ูุญุงูุงุฉ ุงุชุตุงู</div>
              </div>

              <div class="iot" id="iotStatus">
                <div class="iot-item"><span class="tag">Thermometer</span><span class="ok">Ready</span></div>
                <div class="iot-item"><span class="tag">SpOโ</span><span class="ok">Ready</span></div>
                <div class="iot-item"><span class="tag">BP Cuff</span><span class="ok">Ready</span></div>
                <div class="iot-item"><span class="tag">Weighing</span><span class="muted">Optional</span></div>
              </div>

              <div class="divider"></div>
              <div class="small muted">
                ูุงุญููุง: ุฑุจุท ูุนูู ุนุจุฑ Bluetooth/WiFi ุฃู API Gateway.
              </div>
            </div>

            <div class="card">
              <div class="card-head">
                <h3>Log</h3>
                <div class="muted small">ุณุฌู ุนูููุงุช ุงูููุตุฉ</div>
              </div>

              <div class="log" id="sysLog"></div>
            </div>
          </div>
        </div>

        <!-- ABOUT -->
        <div class="view" id="view-about">
          <div class="section-head">
            <h2>ุนู ุงููุดุฑูุน</h2>
            <div class="section-actions">
              <button class="btn ghost" id="btnOpenReadme">ูุชุญ README</button>
            </div>
          </div>

          <div class="grid-2">
            <div class="card">
              <div class="card-head">
                <h3>ููุงุฐุง ูุฐุง ุงููุดุฑูุน ูููุ</h3>
                <div class="muted small">ุฑุณุงูุฉ ุชุญููููุฉ</div>
              </div>

              <div class="copy">
                <p>
                  ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ ููุณุช โูููุนูุงโ ููุทุ ุจู ูููุฐุฌ ุชุดุบูู (Operating Model) ููุตุญุฉ ุงููุฏุฑุณูุฉ:
                  ููุงุณ โ ุชูุซูู โ ุชุตููู โ ุชุฏุฎู โ ุชูุฑูุฑ โ ูุชุงุจุนุฉ โ ุจุดูู ููุญุฏ ููุงุจู ููุชูุณุน.
                </p>
                <p>
                  ุงููุณุฎุฉ ุงูุญุงููุฉ Static ูุฃุบุฑุงุถ ุงูุนุฑุถ ุจุณุฑุนุฉ ูุจุฏูู ุชูููุฉุ ููุน ุฐูู ููู ูุตููุฉ ูุชูุทููุฑ ูุงุญููุง ุฅูู
                  ุทุจูุงุช ุชูุงูู ููุงุฌูุงุช ุฎุฏูุงุช ููู ุงูุณูุงุณุงุช ุงููุนุชูุฏุฉ.
                </p>
              </div>
            </div>

            <div class="card">
              <div class="card-head">
                <h3>ููุฎุต ุงูุฎุตูุตูุฉ (ุนุฑุถ)</h3>
                <div class="muted small">ุจุฏูู ุชุฎุฒูู ุจูุงูุงุช ุญุณุงุณุฉ ูู ุงููุณุฎุฉ ุงูุชุฌุฑูุจูุฉ</div>
              </div>

              <ul class="bullets">
                <li>ุงููุณุฎุฉ ุงูุชุฌุฑูุจูุฉ ูุง ุชุชุทูุจ ูููุฉ ุญููููุฉ ููุง ุชุญูุธ ุจูุงูุงุช ุญุณุงุณุฉ.</li>
                <li>ุชุทุจูู ุงูุฃุฏูุงุฑ: (ููุฑุถ/ูุฏูุฑ/ููู ุฃูุฑ) ุนูุฏ ุงูุชุทููุฑ ุงููุนูู.</li>
                <li>ุฅููุงููุฉ ูุตู ุจูุงูุงุช ุงููุฏุฑุณุฉ ุนู ุงูุฌูุงุช ุงูุฃุฎุฑู.</li>
                <li>ูุงุจููุฉ ุฅุถุงูุฉ ููุงููุงุช ุฃูููุงุก ุงูุฃููุฑ ูุงูุชุดููุฑ ูุณูุงุณุงุช ุงููุตูู.</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- JS: uses existing engine.js if present, then our inline controller -->
  <script src="engine.js"></script>
  <script>
    (function(){
      "use strict";

      const $ = (s, r=document) => r.querySelector(s);
      const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));

      // ---------- tiny state ----------
      const state = {
        theme: localStorage.getItem("sc_theme") || "dark",
        lastCase: null,
        cases: [],
        alerts: [],
        log: []
      };

      // ---------- helpers ----------
      const now = () => new Date();
      const pad2 = n => String(n).padStart(2,"0");
      const timeStr = d => `${pad2(d.getHours())}:${pad2(d.getMinutes())}`;
      const rand = (a,b)=> Math.floor(Math.random()*(b-a+1))+a;
      const clamp = (n,a,b)=> Math.max(a, Math.min(b,n));
      const uid = () => Math.random().toString(16).slice(2,8).toUpperCase();
      const save = () => localStorage.setItem("sc_state", JSON.stringify(state));
      const load = () => {
        try{
          const s = localStorage.getItem("sc_state");
          if(!s) return;
          const obj = JSON.parse(s);
          Object.assign(state, obj || {});
        }catch(_){}
      };
      const log = (msg, kind="info") => {
        const item = { t: timeStr(now()), msg, kind };
        state.log.unshift(item);
        state.log = state.log.slice(0, 40);
        renderLog();
        save();
      };

      // ---------- theme ----------
      function applyTheme(){
        document.documentElement.dataset.theme = state.theme;
      }

      // ---------- nav ----------
      function showView(name){
        $$(".nav-item").forEach(b => b.classList.toggle("active", b.dataset.view===name));
        $$(".view").forEach(v => v.classList.remove("show"));
        const el = $("#view-"+name);
        if(el) el.classList.add("show");
      }

      // ---------- data seed ----------
      function seed(){
        if(state.cases && state.cases.length) return;

        const sample = [
          { student:"ุทุงูุจ", reason:"ุญููู / ุญุฑุงุฑุฉ", pr:"MED", status:"ูุชุงุจุนุฉ" },
          { student:"ุทุงูุจุฉ", reason:"ุตุฏุงุน", pr:"LOW", status:"ุชู" },
          { student:"ุทุงูุจ", reason:"ุถูู ุชููุณ / ุฑุจู", pr:"HIGH", status:"ุชูุจูู" },
          { student:"ุทุงูุจุฉ", reason:"ุฃูู ุจุทู", pr:"MED", status:"ูุชุงุจุนุฉ" },
          { student:"ุทุงูุจ", reason:"ุฅุฌูุงุฏ / ุฏูุฎุฉ", pr:"LOW", status:"ุชู" },
          { student:"ุทุงูุจุฉ", reason:"ุฌุฑุญ ุจุณูุท", pr:"LOW", status:"ุชู" }
        ];

        state.cases = sample.map((x,i)=>({
          id: uid(),
          time: timeStr(new Date(Date.now() - (i*12+4)*60000)),
          student: x.student + " #" + rand(12,99),
          reason: x.reason,
          priority: x.pr,
          status: x.status
        }));
        state.lastCase = state.cases[0];
        save();
      }

      // ---------- renderers ----------
      function prBadge(pr){
        const cls = pr==="CRIT" ? "pr crit" : pr==="HIGH" ? "pr high" : pr==="MED" ? "pr med" : "pr low";
        const txt = pr==="CRIT" ? "ุญุฑุฌ" : pr==="HIGH" ? "ุนุงูู" : pr==="MED" ? "ูุชูุณุท" : "ููุฎูุถ";
        return `<span class="${cls}">${txt}</span>`;
      }
      function stBadge(st){
        const cls = st==="ุชูุจูู" ? "st alert" : st==="ูุชุงุจุนุฉ" ? "st follow" : "st done";
        return `<span class="${cls}">${st}</span>`;
      }

      function renderCases(){
        const box = $("#caseRows");
        if(!box) return;
        box.innerHTML = state.cases.slice(0,6).map(c=>`
          <div class="trow">
            <div class="muted">${c.time}</div>
            <div><b>${c.student}</b></div>
            <div>${c.reason}</div>
            <div>${prBadge(c.priority)}</div>
            <div>${stBadge(c.status)}</div>
          </div>
        `).join("");
      }

      function renderAlerts(){
        const el = $("#alertsList");
        if(!el) return;

        if(!state.alerts.length){
          el.innerHTML = `<div class="empty">ูุง ุชูุฌุฏ ุชูุจููุงุช ุญุงูููุง.</div>`;
          return;
        }

        el.innerHTML = state.alerts.map(a=>`
          <div class="alert ${a.level}">
            <div class="a-top">
              <div class="a-title">${a.title}</div>
              <div class="a-time muted">${a.time}</div>
            </div>
            <div class="a-body muted">${a.body}</div>
            <div class="a-foot">
              <span class="badge">${a.tag}</span>
              <span class="badge ghost">Case: ${a.caseId}</span>
            </div>
          </div>
        `).join("");
      }

      function renderLog(){
        const el = $("#sysLog");
        if(!el) return;
        if(!state.log.length){
          el.innerHTML = `<div class="muted small">ูุง ููุฌุฏ ุณุฌู ุจุนุฏ.</div>`;
          return;
        }
        el.innerHTML = state.log.map(x=>`
          <div class="logline ${x.kind}">
            <span class="muted">${x.t}</span>
            <span>${x.msg}</span>
          </div>
        `).join("");
      }

      function updateKPIs(){
        // (Demo numbers) โ simple derived values
        const today = clamp(rand(9,14), 6, 20);
        const critical = state.alerts.filter(a=>a.level==="crit").length || rand(0,2);
        const follow = state.cases.filter(c=>c.status==="ูุชุงุจุนุฉ").length;
        $("#kpiTodayCases").textContent = today;
        $("#kpiCritical").textContent = critical;
        $("#kpiFollow").textContent = follow;
        $("#kpiResponse").textContent = rand(5,9) + "m";

        $("#readinessScore").textContent = clamp(90 - (critical*8) - (follow*2) + rand(-2,2), 62, 96);

        $("#kpiStudents").textContent = 680;
        $("#kpiWeekChecks").textContent = 94 + rand(-6,10);
        $("#kpiEarly").textContent = 17 + rand(-3,6);
        $("#kpiReports").textContent = 36 + rand(-4,8);

        // impact
        $("#impactAbsence").textContent = "-" + rand(9,14) + "%";
        $("#impactReferrals").textContent = "-" + rand(14,22) + "%";
        $("#impactReports").textContent = "+" + rand(32,48) + "%";
        $("#impactParents").textContent = "+" + rand(16,28) + "%";
      }

      // ---------- triage vitals + risk ----------
      function genVitals(critical=false){
        const t = critical ? (38.8 + Math.random()*0.7) : (36.6 + Math.random()*1.2);
        const hr = critical ? rand(118,142) : rand(72,102);
        const spo2 = critical ? rand(88,93) : rand(96,99);
        const sbp = critical ? rand(90,102) : rand(105,125);
        const dbp = critical ? rand(55,65) : rand(65,80);
        $("#vTemp").textContent = t.toFixed(1);
        $("#vHr").textContent = hr;
        $("#vSpo2").textContent = spo2;
        $("#vBp").textContent = `${sbp}/${dbp}`;
        return { t, hr, spo2, sbp, dbp };
      }

      function calcRisk(v){
        let score = 0;
        if(v.t >= 38.0) score += 30;
        if(v.hr >= 120) score += 25;
        if(v.spo2 <= 93) score += 35;
        if(v.sbp <= 95) score += 15;
        score = clamp(score, 0, 100);

        const bar = $("#riskBar");
        const lvl = $("#riskLevel");
        const hint = $("#riskHint");

        bar.style.width = score + "%";

        let level = "LOW", cls="low", msg="ูุง ุชูุฌุฏ ูุคุดุฑุงุช ุญุฑุฌุฉ.";
        if(score >= 75){ level="CRITICAL"; cls="crit"; msg="ูุคุดุฑุงุช ุญุฑุฌุฉ โ ููุฒู ุชุฏุฎู/ุฅุญุงูุฉ ุญุณุจ ุงูุจุฑูุชูููู."; }
        else if(score >= 50){ level="HIGH"; cls="high"; msg="ูุคุดุฑุงุช ุนุงููุฉ โ ูุฑุงูุจุฉ ูุตููุฉ ูุฅุฌุฑุงุกุงุช ุฃูููุฉ."; }
        else if(score >= 25){ level="MEDIUM"; cls="med"; msg="ูุคุดุฑุงุช ูุชูุณุทุฉ โ ูุชุงุจุนุฉ ูุชูุซูู ูุฅุฑุดุงุฏุงุช."; }

        lvl.textContent = level;
        lvl.className = "risk-v " + cls;
        hint.textContent = msg;

        return { score, level };
      }

      function makeCaseFromForm(v, risk){
        const name = ($("#fName").value || "ุทุงูุจ/ุทุงูุจุฉ") + " #" + rand(10,99);
        const reason = $("#fReason").value || "ุฃุฎุฑู";
        const pr = risk.level==="CRITICAL" ? "CRIT" : risk.level==="HIGH" ? "HIGH" : risk.level==="MEDIUM" ? "MED" : "LOW";
        const st = pr==="CRIT" || pr==="HIGH" ? "ุชูุจูู" : pr==="MED" ? "ูุชุงุจุนุฉ" : "ุชู";

        return {
          id: uid(),
          time: timeStr(now()),
          student: name,
          reason,
          priority: pr,
          status: st,
          vitals: v,
          notes: $("#fNotes").value || ""
        };
      }

      // ---------- report ----------
      function buildReport(c){
        if(!c) return null;
        const lines = [
          "ุชูุฑูุฑ ุฒูุงุฑุฉ โ ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ",
          "-----------------------------------",
          `ุงูููุช: ${c.time}`,
          `ุงูุทุงูุจ: ${c.student}`,
          `ุงูุณุจุจ: ${c.reason}`,
          `ุงูุฃููููุฉ: ${c.priority}`,
          `ุงูุญุงูุฉ: ${c.status}`,
          "",
          "ุงูุนูุงูุงุช ุงูุญูููุฉ:",
          `- ุงูุญุฑุงุฑุฉ: ${c.vitals?.t?.toFixed?.(1) ?? c.vitals?.t} ยฐC`,
          `- ูุจุถ: ${c.vitals?.hr} bpm`,
          `- SpOโ: ${c.vitals?.spo2}%`,
          `- ุถุบุท: ${c.vitals?.sbp}/${c.vitals?.dbp}`,
          "",
          "ููุงุญุธุงุช:",
          (c.notes || "โ"),
          "",
          "ููุงุญุธุฉ: ูุฐุง ุชูุฑูุฑ ุชุฌุฑูุจู ููุนุฑุถ."
        ];
        return lines.join("\n");
      }

      function renderReport(c){
        const meta = $("#reportMeta");
        const body = $("#reportBody");
        if(!meta || !body) return;

        if(!c){
          meta.textContent = "โ";
          body.innerHTML = `<div class="muted">ูุง ุชูุฌุฏ ุญุงูุฉ ุจุนุฏ.</div>`;
          return;
        }

        meta.textContent = `ุงูููุช: ${c.time} โ ุงูุทุงูุจ: ${c.student} โ ุงูุฃููููุฉ: ${c.priority}`;
        body.innerHTML = `
          <div class="rb">
            <div><b>ุณุจุจ ุงูุฒูุงุฑุฉ:</b> ${c.reason}</div>
            <div><b>ุงูุญุงูุฉ:</b> ${c.status}</div>
          </div>
          <div class="divider"></div>
          <div class="rb">
            <div><b>Temperature:</b> ${c.vitals.t.toFixed(1)}ยฐC</div>
            <div><b>HR:</b> ${c.vitals.hr} bpm</div>
            <div><b>SpOโ:</b> ${c.vitals.spo2}%</div>
            <div><b>BP:</b> ${c.vitals.sbp}/${c.vitals.dbp}</div>
          </div>
          <div class="divider"></div>
          <div><b>ููุงุญุธุงุช:</b> ${c.notes ? escapeHtml(c.notes) : "โ"}</div>
        `;
      }

      function escapeHtml(s){
        return String(s).replace(/[&<>"']/g, m => ({
          "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
        }[m]));
      }

      // ---------- actions ----------
      function simulateAlert(level="high"){
        const c = state.lastCase || state.cases[0];
        const a = {
          time: timeStr(now()),
          level: level,
          caseId: c?.id || uid(),
          title: level==="crit" ? "ุชูุจูู ุญุฑุฌ" : "ุชูุจูู ุนุงูู",
          body: level==="crit"
            ? "ูุคุดุฑุงุช ุญุฑุฌุฉ ุชุชุทูุจ ุงุณุชุฌุงุจุฉ ููุฑูุฉ ุญุณุจ ุงูุจุฑูุชูููู."
            : "ูุคุดุฑุงุช ุนุงููุฉ ุชุชุทูุจ ูุชุงุจุนุฉ ูุตููุฉ ูุชูุซูู.",
          tag: level==="crit" ? "CRITICAL" : "HIGH"
        };
        state.alerts.unshift(a);
        state.alerts = state.alerts.slice(0, 12);
        renderAlerts();
        updateKPIs();
        pulseStatus(level==="crit" ? "Critical alert raised" : "High alert raised");
        log(a.title + " โ " + a.tag, level==="crit" ? "warn" : "info");
        save();
      }

      function pulseStatus(text){
        const dot = $("#sysDot");
        const st = $("#sysStatus");
        if(st) st.textContent = "System: " + text;
        if(dot){
          dot.classList.add("pulse");
          setTimeout(()=>dot.classList.remove("pulse"), 800);
        }
      }

      function downloadText(filename, text){
        const blob = new Blob([text], {type:"text/plain;charset=utf-8"});
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        a.remove();
        setTimeout(()=>URL.revokeObjectURL(url), 800);
      }

      // ---------- wire up ----------
      function bind(){
        // nav
        $$(".nav-item").forEach(btn=>{
          btn.addEventListener("click", ()=>{
            showView(btn.dataset.view);
            log("Open view: " + btn.dataset.view);
          });
        });

        $("#btnTheme").addEventListener("click", ()=>{
          state.theme = state.theme==="dark" ? "light" : "dark";
          localStorage.setItem("sc_theme", state.theme);
          applyTheme();
          log("Theme: " + state.theme);
        });

        $("#btnFull").addEventListener("click", ()=>{
          if(!document.fullscreenElement) document.documentElement.requestFullscreen?.();
          else document.exitFullscreen?.();
        });

        $("#btnRefresh").addEventListener("click", ()=>{
          updateKPIs();
          renderCases();
          renderAlerts();
          pulseStatus("Refreshed");
          log("Dashboard refreshed");
        });

        $("#btnSimAlert").addEventListener("click", ()=> simulateAlert("high"));

        $("#btnClearAlerts").addEventListener("click", ()=>{
          state.alerts = [];
          renderAlerts();
          updateKPIs();
          pulseStatus("Alerts cleared");
          log("Alerts cleared");
          save();
        });

        $("#btnQuickDemo").addEventListener("click", ()=>{
          showView("triage");
          const v = genVitals(false);
          const r = calcRisk(v);
          $("#fName").value = "ุทุงูุจ";
          $("#fAge").value = rand(9,15);
          $("#fGrade").value = ["ุฑุงุจุน","ุฎุงูุณ","ุณุงุฏุณ","ุฃูู ูุชูุณุท"][rand(0,3)];
          $("#fNotes").value = "ุญุงูุฉ ุชุฌุฑูุจูุฉ ููุนุฑุถ (Demo).";
          pulseStatus("Demo started");
          log("Quick demo started");
          save();
        });

        $("#btnNewCase").addEventListener("click", ()=>{
          showView("triage");
          $("#fName").focus();
          log("New case (form) opened");
        });

        $("#btnRandomStudent").addEventListener("click", ()=>{
          $("#fName").value = Math.random() > 0.5 ? "ุทุงูุจ" : "ุทุงูุจุฉ";
          $("#fAge").value = rand(8,16);
          $("#fGrade").value = ["ุซุงูุซ","ุฑุงุจุน","ุฎุงูุณ","ุณุงุฏุณ","ุฃูู ูุชูุณุท","ุซุงูู ูุชูุณุท"][rand(0,5)];
          log("Random student generated");
        });

        let lastVitals = genVitals(false);
        calcRisk(lastVitals);

        $("#btnRecalc").addEventListener("click", ()=>{
          lastVitals = genVitals(false);
          calcRisk(lastVitals);
          log("Risk recalculated");
        });

        $("#btnTriggerCritical").addEventListener("click", ()=>{
          lastVitals = genVitals(true);
          const r = calcRisk(lastVitals);
          simulateAlert("crit");
          log("Critical scenario simulated", "warn");
        });

        $("#btnSaveCase").addEventListener("click", ()=>{
          const risk = calcRisk(lastVitals);
          const c = makeCaseFromForm(lastVitals, risk);
          state.lastCase = c;
          state.cases.unshift(c);
          state.cases = state.cases.slice(0, 30);
          renderCases();
          updateKPIs();
          if(c.status==="ุชูุจูู") simulateAlert(c.priority==="CRIT" ? "crit" : "high");
          pulseStatus("Case saved");
          log("Case saved: " + c.id);
          save();
        });

        $("#btnMakeReport").addEventListener("click", ()=>{
          renderReport(state.lastCase);
          pulseStatus("Report generated");
          log("Report generated");
        });

        $("#btnDownloadReport").addEventListener("click", ()=>{
          const txt = buildReport(state.lastCase) || "ูุง ุชูุฌุฏ ุญุงูุฉ ุจุนุฏ.";
          downloadText("smart-clinic-report.txt", txt);
          log("Report downloaded");
        });

        $("#btnExport").addEventListener("click", ()=>{
          const txt = [
            "SMART CLINIC OS โ Executive Summary",
            "-----------------------------------",
            "KPIs (Demo):",
            `- Cases today: ${$("#kpiTodayCases").textContent}`,
            `- Critical alerts: ${$("#kpiCritical").textContent}`,
            `- Follow-up: ${$("#kpiFollow").textContent}`,
            `- Response time: ${$("#kpiResponse").textContent}`,
            "",
            "Note: Demo build for GitHub Pages."
          ].join("\n");
          downloadText("smart-clinic-summary.txt", txt);
          log("Summary exported");
        });

        $("#btnSyncSensors").addEventListener("click", ()=>{
          pulseStatus("Sensors synced (demo)");
          log("IoT sensors synced (demo)");
          // if engine exists, call it (doesn't break if not)
          try{ window.ClinicEngine?.syncSensors?.(); }catch(_){}
        });

        $("#btnResetSensors").addEventListener("click", ()=>{
          pulseStatus("Sensors reset (demo)");
          log("IoT sensors reset (demo)");
          save();
        });

        $("#btnOpenReadme").addEventListener("click", ()=>{
          // opens README in new tab if exists in repo pages path
          window.open("./README.md", "_blank");
        });
      }

      // ---------- init ----------
      load();
      seed();
      applyTheme();
      bind();
      renderCases();
      renderAlerts();
      renderLog();
      updateKPIs();
      renderReport(state.lastCase);
      pulseStatus("Ready");
      log("System ready");
    })();
  </script>
</body>
</html>
